(this.webpackJsonpreact_calendar=this.webpackJsonpreact_calendar||[]).push([[0],{17:function(e,t,c){},28:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(19),a=c.n(r),i=c(10),d=c(2),l=c(5);function o(){var e=!0,t=document.querySelectorAll('input[type="checkbox"]'),c=document.querySelector(".selectBox"),n=document.getElementById("checkBoxes");c.addEventListener("click",(function(){e?(n.style.display="block",n.style.zIndex="100",e=!1):(n.style.display="none",e=!0)}));var s=Array.prototype.slice.call(t),r=s.shift();r.addEventListener("click",(function(){if(r.checked){var e,c=Object(l.a)(t);try{for(c.s();!(e=c.n()).done;){e.value.checked=!0}}catch(a){c.e(a)}finally{c.f()}}else{var n,s=Object(l.a)(t);try{for(s.s();!(n=s.n()).done;){n.value.checked=!1}}catch(a){s.e(a)}finally{s.f()}}}));var a,i=Object(l.a)(s);try{for(i.s();!(a=i.n()).done;){a.value.addEventListener("click",(function(){var e,t=0,c=Object(l.a)(s);try{for(c.s();!(e=c.n()).done;){e.value.checked&&(t+=1)}}catch(n){c.e(n)}finally{c.f()}s.length===t&&!1===r.checked&&(r.checked=!0),s.length!==t&&r.checked&&(r.checked=!1)}))}}catch(d){i.e(d)}finally{i.f()}}c(17);var h=c(0);var j=function(){return Object(n.useEffect)(o,[]),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("label",{className:"input-group-text",htmlFor:"participants",children:"Participants"}),Object(h.jsxs)("div",{className:"multipleSelection",children:[Object(h.jsxs)("div",{className:"selectBox",children:[Object(h.jsx)("select",{className:"form-select",id:"participants",children:Object(h.jsx)("option",{defaultValue:!0,children:"Choose..."})}),Object(h.jsx)("div",{className:"overSelect"})]}),Object(h.jsxs)("div",{id:"checkBoxes",children:[Object(h.jsxs)("label",{htmlFor:"first",children:[Object(h.jsx)("input",{type:"checkbox",id:"first"}),"All members"]}),Object(h.jsxs)("label",{htmlFor:"second",children:[Object(h.jsx)("input",{type:"checkbox",id:"second"}),"Jhon"]}),Object(h.jsxs)("label",{htmlFor:"third",children:[Object(h.jsx)("input",{type:"checkbox",id:"third"}),"Mila"]}),Object(h.jsxs)("label",{htmlFor:"fourth",children:[Object(h.jsx)("input",{type:"checkbox",id:"fourth"}),"Sam"]}),Object(h.jsxs)("label",{htmlFor:"fifth",children:[Object(h.jsx)("input",{type:"checkbox",id:"fifth"}),"Molly"]}),Object(h.jsxs)("label",{htmlFor:"sixth",children:[Object(h.jsx)("input",{type:"checkbox",id:"sixth"}),"Garry"]}),Object(h.jsxs)("label",{htmlFor:"seventh",children:[Object(h.jsx)("input",{type:"checkbox",id:"seventh"}),"Liza"]}),Object(h.jsxs)("label",{htmlFor:"eighth",children:[Object(h.jsx)("input",{type:"checkbox",id:"eighth"}),"Mike"]})]})]})]})},u=(c(28),c(8)),b=c.n(u),x=c(12),O=c(20),p=c(21),f=new(function(){function e(){if(Object(O.a)(this,e),e.exists)return e.instance;e.instance=this,e.exists=!0,this.url="http://158.101.166.74:8080/api/data/ihor_hudkov/"}return Object(p.a)(e,[{key:"getAll",value:function(){var e=Object(x.a)(b.a.mark((function e(t){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(b.a.mark((function e(t,c){var n,s,r,a,i,d,o,h,j,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAll(t);case 2:if(!(n=e.sent)){e.next=40;break}if("events"!==t){e.next=22;break}s=Object(l.a)(n),e.prev=6,s.s();case 8:if((r=s.n()).done){e.next=14;break}if(a=r.value,JSON.parse(a.data).dayTime!==c.dayTime){e.next=12;break}throw new Error("Failed to create an event. Time slot is already booked.");case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),s.e(e.t0);case 19:return e.prev=19,s.f(),e.finish(19);case 22:if("users"!==t){e.next=40;break}i=Object(l.a)(n),e.prev=24,i.s();case 26:if((d=i.n()).done){e.next=32;break}if(o=d.value,JSON.parse(o.data).name!==c.name){e.next=30;break}throw new Error("Failed to create a user. The user with the same name already exists.");case 30:e.next=26;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(24),i.e(e.t1);case 37:return e.prev=37,i.f(),e.finish(37);case 40:return h={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:'{"data": "'.concat(JSON.stringify(c).replace(/"/g,'\\"'),'"}')},e.next=43,fetch("".concat(this.url).concat(t),h);case 43:return j=e.sent,e.next=46,j.json();case 46:return u=e.sent,e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[6,16,19,22],[24,34,37,40]])})));return function(t,c){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(x.a)(b.a.mark((function e(t,c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t,"/").concat(c),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.ok);case 4:case"end":return e.stop()}}),e,this)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(b.a.mark((function e(t,c,n){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t,"/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:'{"data": "'.concat(JSON.stringify(n).replace(/"/g,'\\"'),'"}')});case 2:return s=e.sent,e.abrupt("return",s.ok);case 4:case"end":return e.stop()}}),e,this)})));return function(t,c,n){return e.apply(this,arguments)}}()}]),e}()),v=function(){var e=document.forms.eventForm,t=e.name,c=e.day,n=e.time;e.onsubmit=function(e){if(e.preventDefault(),!(!(t.value.trim()?(t.classList.remove("input-error"),1):(t.classList.add("input-error"),0))|!("Choose..."===c.value?(c.classList.add("input-error"),0):(c.classList.remove("input-error"),1))|!("Choose..."===n.value?(n.classList.add("input-error"),0):(n.classList.remove("input-error"),1)))){var s=document.querySelectorAll('input[type="checkbox"]:checked'),r=[];s.forEach((function(e){var t=document.querySelector('label[for="'.concat(e.id,'"'));r.push(t.textContent.trim())}));var a={name:t.value,participants:r,dayTime:"".concat(c.value," ").concat(n.value)};f.create("events",a).then((function(){t.value="",c.value="Choose...",n.value="Choose...",alert("Event was successfully added to the calendar"),window.location.href="/react_calendar"}),(function(e){console.log(e.message),document.querySelector(".error-msg").setAttribute("style","display: block;")}))}}};var m=function(){return Object(n.useEffect)(v),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:Object(h.jsx)("span",{className:"error-msg",children:"Failed to create an event. Time slot is already booked."})}),Object(h.jsx)("div",{className:"form-container",children:Object(h.jsxs)("form",{name:"eventForm",children:[Object(h.jsx)("input",{id:"name",className:"form-control text-field",type:"text",placeholder:"Name of the event",maxLength:"60"}),Object(h.jsx)(j,{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("label",{className:"input-group-text",htmlFor:"day",children:"Day"}),Object(h.jsxs)("select",{className:"form-select",id:"day",children:[Object(h.jsx)("option",{defaultValue:!0,children:"Choose..."}),Object(h.jsx)("option",{value:"Mon",children:"Monday"}),Object(h.jsx)("option",{value:"Tue",children:"Tuesday"}),Object(h.jsx)("option",{value:"Wed",children:"Wednesday"}),Object(h.jsx)("option",{value:"Thu",children:"Thursday"}),Object(h.jsx)("option",{value:"Fri",children:"Friday"})]})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("label",{className:"input-group-text",htmlFor:"time",children:"Time"}),Object(h.jsxs)("select",{className:"form-select",id:"time",children:[Object(h.jsx)("option",{defaultValue:!0,children:"Choose..."}),Object(h.jsx)("option",{value:"10",children:"10-00"}),Object(h.jsx)("option",{value:"11",children:"11-00"}),Object(h.jsx)("option",{value:"12",children:"12-00"}),Object(h.jsx)("option",{value:"13",children:"13-00"}),Object(h.jsx)("option",{value:"14",children:"14-00"}),Object(h.jsx)("option",{value:"15",children:"15-00"}),Object(h.jsx)("option",{value:"16",children:"16-00"}),Object(h.jsx)("option",{value:"17",children:"17-00"}),Object(h.jsx)("option",{value:"18",children:"18-00"})]})]}),Object(h.jsxs)("div",{className:"submit-wrapper",children:[Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(h.jsx)(i.b,{to:"/react_calendar",className:"btn btn-success",role:"button",children:"Cancel"})]})]})})]})};c(35);var y=function(e){var t=function(e){var t=document.createElement("div");return t.classList.add("imodal"),t.insertAdjacentHTML("afterbegin",'\n     <div class="modal-overlay">\n        <div class="modal-window">\n            '.concat(e.content||"","\n        </div>\n     </div> \n    ")),document.body.appendChild(t),t}(e),c=!1;return{open:function(){c||t.classList.add("open")},close:function(){c=!0,t.classList.remove("open"),t.classList.add("hide"),setTimeout((function(){t.classList.remove("hide"),c=!1}),200)}}}({content:'\n      <p>Are You sure You want to delete "Retrospective" event?</p>\n      <div class="modal-buttons">\n        <button type="button" class="btn btn-danger" id="yes">Yes</button>\n        <button type="button" class="btn btn-outline-dark" id="no">No!</button>\n      </div>\n    '});function k(e){var t=e.currentTarget,c=e.target;y.open();var n=document.querySelector("#yes"),s=document.querySelector("#no"),r=function e(){y.close(),n.removeEventListener("click",a),s.removeEventListener("click",e)},a=function e(){var a=t.parentNode.getAttribute("id");f.delete("events",a).then((function(t){t?(c.parentNode.remove(),y.close(),console.log(a),alert("Event successfully deleted!")):(y.close(),alert("Something went wrong!")),n.removeEventListener("click",e),s.removeEventListener("click",r)}),(function(t){y.close(),alert(t.message),n.removeEventListener("click",e),s.removeEventListener("click",r)}))};n.addEventListener("click",a),s.addEventListener("click",r)}c(36);function g(){var e=!0,t=document.querySelectorAll('input[type="checkbox"]'),c=document.querySelector(".selectBox"),n=document.getElementById("checkBoxes");c.addEventListener("click",(function(){e?(n.style.display="block",n.style.zIndex="100",e=!1):(n.style.display="none",e=!0)}));var s=Array.prototype.slice.call(t),r=s.shift();r.addEventListener("click",(function(){if(r.checked){var e,c=Object(l.a)(t);try{for(c.s();!(e=c.n()).done;){e.value.checked=!0}}catch(a){c.e(a)}finally{c.f()}}else{var n,s=Object(l.a)(t);try{for(s.s();!(n=s.n()).done;){n.value.checked=!1}}catch(a){s.e(a)}finally{s.f()}}}));var a,i=Object(l.a)(s);try{for(i.s();!(a=i.n()).done;){a.value.addEventListener("click",(function(){var e,t=0,c=Object(l.a)(s);try{for(c.s();!(e=c.n()).done;){e.value.checked&&(t+=1)}}catch(n){c.e(n)}finally{c.f()}s.length===t&&!1===r.checked&&(r.checked=!0),s.length!==t&&r.checked&&(r.checked=!1)}))}}catch(d){i.e(d)}finally{i.f()}}var T=function(){return Object(n.useEffect)(g,[]),Object(h.jsxs)("div",{className:"multipleSelection",children:[Object(h.jsxs)("div",{className:"selectBox",children:[Object(h.jsx)("select",{className:"form-select",id:"participants",children:Object(h.jsx)("option",{defaultValue:!0,children:"Choose..."})}),Object(h.jsx)("div",{className:"overSelect"})]}),Object(h.jsxs)("div",{id:"checkBoxes",children:[Object(h.jsxs)("label",{htmlFor:"first",children:[Object(h.jsx)("input",{type:"checkbox",id:"first",defaultChecked:!0}),"All members"]}),Object(h.jsxs)("label",{htmlFor:"second",children:[Object(h.jsx)("input",{type:"checkbox",id:"second",defaultChecked:!0}),"Jhon"]}),Object(h.jsxs)("label",{htmlFor:"third",children:[Object(h.jsx)("input",{type:"checkbox",id:"third",defaultChecked:!0}),"Mila"]}),Object(h.jsxs)("label",{htmlFor:"fourth",children:[Object(h.jsx)("input",{type:"checkbox",id:"fourth",defaultChecked:!0}),"Sam"]}),Object(h.jsxs)("label",{htmlFor:"fifth",children:[Object(h.jsx)("input",{type:"checkbox",id:"fifth",defaultChecked:!0}),"Molly"]}),Object(h.jsxs)("label",{htmlFor:"sixth",children:[Object(h.jsx)("input",{type:"checkbox",id:"sixth",defaultChecked:!0}),"Garry"]}),Object(h.jsxs)("label",{htmlFor:"seventh",children:[Object(h.jsx)("input",{type:"checkbox",id:"seventh",defaultChecked:!0}),"Liza"]}),Object(h.jsxs)("label",{htmlFor:"eighth",children:[Object(h.jsx)("input",{type:"checkbox",id:"eighth",defaultChecked:!0}),"Mike"]})]})]})};function F(){return Object(n.useEffect)((function(){!function(e){var t=[];document.querySelectorAll('input[type="checkbox"]:checked').forEach((function(e){var c=document.querySelector('label[for="'.concat(e.id,'"'));t.push(c.textContent.trim())})),f.getAll("events").then((function(c){c&&c.forEach((function(c){var n=c.participants;if("all"===e||My$.arrCompare(n,t)){var s=JSON.parse(c.data).dayTime,r='td[headers="'.concat(s,'"]'),a=document.querySelector(r),i=document.createElement("div"),d=document.createElement("span"),l=document.createElement("span");i.setAttribute("id",c.id),i.setAttribute("draggable","true"),l.innerHTML="&times;",d.textContent=JSON.parse(c.data).name,a.appendChild(i),i.appendChild(d),i.appendChild(l),i.classList.add("td-content"),l.classList.add("td__delete-btn"),l.addEventListener("click",k)}}))}))}("all")})),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Calendar"}),Object(h.jsxs)("div",{className:"btn__group",children:[Object(h.jsxs)("div",{className:"input-group mb-3 select-names",children:[Object(h.jsx)("label",{className:"input-group-text",htmlFor:"participants",children:"Participants"}),Object(h.jsx)(T,{})]}),Object(h.jsx)(i.b,{to:"/react_calendar/create-event",className:"btn btn-success",role:"button",id:"new-event-btn",children:"New event +"})]})]})}),Object(h.jsxs)("table",{className:"table table-bordered text-center",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{id:"Mon",children:"Mon"}),Object(h.jsx)("th",{id:"Tue",children:"Tue"}),Object(h.jsx)("th",{id:"Wed",children:"Wed"}),Object(h.jsx)("th",{id:"Thu",children:"Thu"}),Object(h.jsx)("th",{id:"Fri",children:"Fri"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"10",children:"10:00"}),Object(h.jsx)("td",{headers:"Mon 10"}),Object(h.jsx)("td",{headers:"Tue 10"}),Object(h.jsx)("td",{headers:"Wed 10"}),Object(h.jsx)("td",{headers:"Thu 10"}),Object(h.jsx)("td",{headers:"Fri 10"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"11",children:"11:00"}),Object(h.jsx)("td",{headers:"Mon 11"}),Object(h.jsx)("td",{headers:"Tue 11"}),Object(h.jsx)("td",{headers:"Wed 11"}),Object(h.jsx)("td",{headers:"Thu 11"}),Object(h.jsx)("td",{headers:"Fri 11"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"12",children:"12:00"}),Object(h.jsx)("td",{headers:"Mon 12"}),Object(h.jsx)("td",{headers:"Tue 12"}),Object(h.jsx)("td",{headers:"Wed 12"}),Object(h.jsx)("td",{headers:"Thu 12"}),Object(h.jsx)("td",{headers:"Fri 12"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"13",children:"13:00"}),Object(h.jsx)("td",{headers:"Mon 13"}),Object(h.jsx)("td",{headers:"Tue 13"}),Object(h.jsx)("td",{headers:"Wed 13"}),Object(h.jsx)("td",{headers:"Thu 13"}),Object(h.jsx)("td",{headers:"Fri 13"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"14",children:"14:00"}),Object(h.jsx)("td",{headers:"Mon 14"}),Object(h.jsx)("td",{headers:"Tue 14"}),Object(h.jsx)("td",{headers:"Wed 14"}),Object(h.jsx)("td",{headers:"Thu 14"}),Object(h.jsx)("td",{headers:"Fri 14"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"15",children:"15:00"}),Object(h.jsx)("td",{headers:"Mon 15"}),Object(h.jsx)("td",{headers:"Tue 15"}),Object(h.jsx)("td",{headers:"Wed 15"}),Object(h.jsx)("td",{headers:"Thu 15"}),Object(h.jsx)("td",{headers:"Fri 15"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"16",children:"16:00"}),Object(h.jsx)("td",{headers:"Mon 16"}),Object(h.jsx)("td",{headers:"Tue 16"}),Object(h.jsx)("td",{headers:"Wed 16"}),Object(h.jsx)("td",{headers:"Thu 16"}),Object(h.jsx)("td",{headers:"Fri 16"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"17",children:"17:00"}),Object(h.jsx)("td",{headers:"Mon 17"}),Object(h.jsx)("td",{headers:"Tue 17"}),Object(h.jsx)("td",{headers:"Wed 17"}),Object(h.jsx)("td",{headers:"Thu 17"}),Object(h.jsx)("td",{headers:"Fri 17"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"18",children:"18:00"}),Object(h.jsx)("td",{headers:"Mon 18"}),Object(h.jsx)("td",{headers:"Tue 18"}),Object(h.jsx)("td",{headers:"Wed 18"}),Object(h.jsx)("td",{headers:"Thu 18"}),Object(h.jsx)("td",{headers:"Fri 18"})]})]})]})]})}var N=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/react_calendar",children:Object(h.jsx)(F,{})}),Object(h.jsx)(d.a,{path:"/react_calendar/create-event",children:Object(h.jsx)(m,{})})]})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),E()}},[[37,1,2]]]);
//# sourceMappingURL=main.098957c2.chunk.js.map