(this.webpackJsonpreact_calendar=this.webpackJsonpreact_calendar||[]).push([[0],{25:function(e,t,c){},40:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(17),a=c(12),i=c(11),d=c(27),l=c(28),o=c(15),j=c(3),h=c(7);function u(){var e=!0,t=document.querySelectorAll('input[type="checkbox"]'),c=document.querySelector(".selectBox"),n=document.getElementById("checkBoxes");c.addEventListener("click",(function(){e?(n.style.display="block",n.style.zIndex="100",e=!1):(n.style.display="none",e=!0)}));var r=Array.prototype.slice.call(t),s=r.shift();s.addEventListener("click",(function(){if(s.checked){var e,c=Object(h.a)(t);try{for(c.s();!(e=c.n()).done;){e.value.checked=!0}}catch(a){c.e(a)}finally{c.f()}}else{var n,r=Object(h.a)(t);try{for(r.s();!(n=r.n()).done;){n.value.checked=!1}}catch(a){r.e(a)}finally{r.f()}}}));var a,i=Object(h.a)(r);try{for(i.s();!(a=i.n()).done;){a.value.addEventListener("click",(function(){var e,t=0,c=Object(h.a)(r);try{for(c.s();!(e=c.n()).done;){e.value.checked&&(t+=1)}}catch(n){c.e(n)}finally{c.f()}r.length===t&&!1===s.checked&&(s.checked=!0),r.length!==t&&s.checked&&(s.checked=!1)}))}}catch(d){i.e(d)}finally{i.f()}}c(25);var b=c(0);var x=function(){return Object(n.useEffect)(u,[]),Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("label",{className:"input-group-text",htmlFor:"participants",children:"Participants"}),Object(b.jsxs)("div",{className:"multipleSelection",children:[Object(b.jsxs)("div",{className:"selectBox",children:[Object(b.jsx)("select",{className:"form-select",id:"participants",children:Object(b.jsx)("option",{defaultValue:!0,children:"Choose..."})}),Object(b.jsx)("div",{className:"overSelect"})]}),Object(b.jsxs)("div",{id:"checkBoxes",children:[Object(b.jsxs)("label",{htmlFor:"first",children:[Object(b.jsx)("input",{type:"checkbox",id:"first"}),"All members"]}),Object(b.jsxs)("label",{htmlFor:"second",children:[Object(b.jsx)("input",{type:"checkbox",id:"second"}),"Jhon"]}),Object(b.jsxs)("label",{htmlFor:"third",children:[Object(b.jsx)("input",{type:"checkbox",id:"third"}),"Mila"]}),Object(b.jsxs)("label",{htmlFor:"fourth",children:[Object(b.jsx)("input",{type:"checkbox",id:"fourth"}),"Sam"]}),Object(b.jsxs)("label",{htmlFor:"fifth",children:[Object(b.jsx)("input",{type:"checkbox",id:"fifth"}),"Molly"]}),Object(b.jsxs)("label",{htmlFor:"sixth",children:[Object(b.jsx)("input",{type:"checkbox",id:"sixth"}),"Garry"]}),Object(b.jsxs)("label",{htmlFor:"seventh",children:[Object(b.jsx)("input",{type:"checkbox",id:"seventh"}),"Liza"]}),Object(b.jsxs)("label",{htmlFor:"eighth",children:[Object(b.jsx)("input",{type:"checkbox",id:"eighth"}),"Mike"]})]})]})]})},O=(c(40),function(){return Object(b.jsx)("div",{className:"spinner-border text-danger",role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),p=c(9),v=c.n(p),f=c(13),m=c(29),y=c(30),k=new(function(){function e(){if(Object(m.a)(this,e),e.exists)return e.instance;e.instance=this,e.exists=!0,this.url="http://158.101.166.74:8080/api/data/ihor_hudkov/"}return Object(y.a)(e,[{key:"getAll",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(f.a)(v.a.mark((function e(t,c){var n,r,s,a,i,d,l,o,j,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAll(t);case 2:if(!(n=e.sent)){e.next=40;break}if("events"!==t){e.next=22;break}r=Object(h.a)(n),e.prev=6,r.s();case 8:if((s=r.n()).done){e.next=14;break}if(a=s.value,JSON.parse(a.data).dayTime!==c.dayTime){e.next=12;break}throw new Error("Failed to create an event. Time slot is already booked.");case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:if("users"!==t){e.next=40;break}i=Object(h.a)(n),e.prev=24,i.s();case 26:if((d=i.n()).done){e.next=32;break}if(l=d.value,JSON.parse(l.data).name!==c.name){e.next=30;break}throw new Error("Failed to create a user. The user with the same name already exists.");case 30:e.next=26;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(24),i.e(e.t1);case 37:return e.prev=37,i.f(),e.finish(37);case 40:return o={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:'{"data": "'.concat(JSON.stringify(c).replace(/"/g,'\\"'),'"}')},e.next=43,fetch("".concat(this.url).concat(t),o);case 43:return j=e.sent,e.next=46,j.json();case 46:return u=e.sent,e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[6,16,19,22],[24,34,37,40]])})));return function(t,c){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(v.a.mark((function e(t,c){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t,"/").concat(c),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.ok);case 4:case"end":return e.stop()}}),e,this)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(f.a)(v.a.mark((function e(t,c,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url).concat(t,"/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:'{"data": "'.concat(JSON.stringify(n).replace(/"/g,'\\"'),'"}')});case 2:return r=e.sent,e.abrupt("return",r.ok);case 4:case"end":return e.stop()}}),e,this)})));return function(t,c,n){return e.apply(this,arguments)}}()}]),e}()),E="APP/SHOW_LOADER",T="APP/HIDE_LOADER",g=function(){return{type:E}},N=function(){return{type:T}};var F=function(){var e=Object(a.c)(),t=Object(a.d)((function(e){return e.app.loading}));return Object(n.useEffect)((function(){var t=document.forms.eventForm,c=t.name,n=t.day,r=t.time;t.onsubmit=function(t){if(t.preventDefault(),!(!(c.value.trim()?(c.classList.remove("input-error"),1):(c.classList.add("input-error"),0))|!("Choose..."===n.value?(n.classList.add("input-error"),0):(n.classList.remove("input-error"),1))|!("Choose..."===r.value?(r.classList.add("input-error"),0):(r.classList.remove("input-error"),1)))){var s=document.querySelectorAll('input[type="checkbox"]:checked'),a=[];s.forEach((function(e){var t=document.querySelector('label[for="'.concat(e.id,'"'));a.push(t.textContent.trim())}));var i,d={name:c.value,participants:a,dayTime:"".concat(n.value," ").concat(r.value)};e((i=d,function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g),e.prev=1,e.next=4,k.create("events",i);case 4:t({type:"EVENT/CREATE_EVENT",payload:"Event was successfully added to the database"}),alert("Event was successfully added to the calendar"),window.location.href="/react_calendar",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message);case 12:t(N);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}}})),t?Object(b.jsx)(O,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{className:"error-msg",children:"Failed to create an event. Time slot is already booked."})}),Object(b.jsx)("div",{className:"form-container",children:Object(b.jsxs)("form",{name:"eventForm",children:[Object(b.jsx)("input",{id:"name",className:"form-control text-field",type:"text",placeholder:"Name of the event",maxLength:"60"}),Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("label",{className:"input-group-text",htmlFor:"day",children:"Day"}),Object(b.jsxs)("select",{className:"form-select",id:"day",children:[Object(b.jsx)("option",{defaultValue:!0,children:"Choose..."}),Object(b.jsx)("option",{value:"Mon",children:"Monday"}),Object(b.jsx)("option",{value:"Tue",children:"Tuesday"}),Object(b.jsx)("option",{value:"Wed",children:"Wednesday"}),Object(b.jsx)("option",{value:"Thu",children:"Thursday"}),Object(b.jsx)("option",{value:"Fri",children:"Friday"})]})]}),Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("label",{className:"input-group-text",htmlFor:"time",children:"Time"}),Object(b.jsxs)("select",{className:"form-select",id:"time",children:[Object(b.jsx)("option",{defaultValue:!0,children:"Choose..."}),Object(b.jsx)("option",{value:"10",children:"10-00"}),Object(b.jsx)("option",{value:"11",children:"11-00"}),Object(b.jsx)("option",{value:"12",children:"12-00"}),Object(b.jsx)("option",{value:"13",children:"13-00"}),Object(b.jsx)("option",{value:"14",children:"14-00"}),Object(b.jsx)("option",{value:"15",children:"15-00"}),Object(b.jsx)("option",{value:"16",children:"16-00"}),Object(b.jsx)("option",{value:"17",children:"17-00"}),Object(b.jsx)("option",{value:"18",children:"18-00"})]})]}),Object(b.jsxs)("div",{className:"submit-wrapper",children:[Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(b.jsx)(o.b,{to:"/react_calendar",className:"btn btn-success",role:"button",children:"Cancel"})]})]})})]})};c(43);var L=function(e){var t=function(e){var t=document.createElement("div");return t.classList.add("imodal"),t.insertAdjacentHTML("afterbegin",'\n     <div class="modal-overlay">\n        <div class="modal-window">\n            '.concat(e.content||"","\n        </div>\n     </div> \n    ")),document.body.appendChild(t),t}(e),c=!1;return{open:function(){c||t.classList.add("open")},close:function(){c=!0,t.classList.remove("open"),t.classList.add("hide"),setTimeout((function(){t.classList.remove("hide"),c=!1}),200)}}}({content:'\n      <p>Are You sure You want to delete "Retrospective" event?</p>\n      <div class="modal-buttons">\n        <button type="button" class="btn btn-danger" id="yes">Yes</button>\n        <button type="button" class="btn btn-outline-dark" id="no">No!</button>\n      </div>\n    '});function w(e){var t=e.currentTarget,c=e.target;L.open();var n=document.querySelector("#yes"),r=document.querySelector("#no"),s=function e(){L.close(),n.removeEventListener("click",a),r.removeEventListener("click",e)},a=function e(){var a=t.parentNode.getAttribute("id");k.delete("events",a).then((function(t){t?(c.parentNode.remove(),L.close(),console.log(a),alert("Event successfully deleted!")):(L.close(),alert("Something went wrong!")),n.removeEventListener("click",e),r.removeEventListener("click",s)}),(function(t){L.close(),alert(t.message),n.removeEventListener("click",e),r.removeEventListener("click",s)}))};n.addEventListener("click",a),r.addEventListener("click",s)}c(44);function C(){var e=!0,t=document.querySelectorAll('input[type="checkbox"]'),c=document.querySelector(".selectBox"),n=document.getElementById("checkBoxes");c.addEventListener("click",(function(){e?(n.style.display="block",n.style.zIndex="100",e=!1):(n.style.display="none",e=!0)}));var r=Array.prototype.slice.call(t),s=r.shift();s.addEventListener("click",(function(){if(s.checked){var e,c=Object(h.a)(t);try{for(c.s();!(e=c.n()).done;){e.value.checked=!0}}catch(a){c.e(a)}finally{c.f()}}else{var n,r=Object(h.a)(t);try{for(r.s();!(n=r.n()).done;){n.value.checked=!1}}catch(a){r.e(a)}finally{r.f()}}}));var a,i=Object(h.a)(r);try{for(i.s();!(a=i.n()).done;){a.value.addEventListener("click",(function(){var e,t=0,c=Object(h.a)(r);try{for(c.s();!(e=c.n()).done;){e.value.checked&&(t+=1)}}catch(n){c.e(n)}finally{c.f()}r.length===t&&!1===s.checked&&(s.checked=!0),r.length!==t&&s.checked&&(s.checked=!1)}))}}catch(d){i.e(d)}finally{i.f()}}var S=function(){return Object(n.useEffect)(C,[]),Object(b.jsxs)("div",{className:"multipleSelection",children:[Object(b.jsxs)("div",{className:"selectBox",children:[Object(b.jsx)("select",{className:"form-select",id:"participants",children:Object(b.jsx)("option",{defaultValue:!0,children:"Choose..."})}),Object(b.jsx)("div",{className:"overSelect"})]}),Object(b.jsxs)("div",{id:"checkBoxes",children:[Object(b.jsxs)("label",{htmlFor:"first",children:[Object(b.jsx)("input",{type:"checkbox",id:"first",defaultChecked:!0}),"All members"]}),Object(b.jsxs)("label",{htmlFor:"second",children:[Object(b.jsx)("input",{type:"checkbox",id:"second",defaultChecked:!0}),"Jhon"]}),Object(b.jsxs)("label",{htmlFor:"third",children:[Object(b.jsx)("input",{type:"checkbox",id:"third",defaultChecked:!0}),"Mila"]}),Object(b.jsxs)("label",{htmlFor:"fourth",children:[Object(b.jsx)("input",{type:"checkbox",id:"fourth",defaultChecked:!0}),"Sam"]}),Object(b.jsxs)("label",{htmlFor:"fifth",children:[Object(b.jsx)("input",{type:"checkbox",id:"fifth",defaultChecked:!0}),"Molly"]}),Object(b.jsxs)("label",{htmlFor:"sixth",children:[Object(b.jsx)("input",{type:"checkbox",id:"sixth",defaultChecked:!0}),"Garry"]}),Object(b.jsxs)("label",{htmlFor:"seventh",children:[Object(b.jsx)("input",{type:"checkbox",id:"seventh",defaultChecked:!0}),"Liza"]}),Object(b.jsxs)("label",{htmlFor:"eighth",children:[Object(b.jsx)("input",{type:"checkbox",id:"eighth",defaultChecked:!0}),"Mike"]})]})]})},A=Object(a.b)()((function(){return Object(n.useEffect)((function(){!function(e){var t=[];document.querySelectorAll('input[type="checkbox"]:checked').forEach((function(e){var c=document.querySelector('label[for="'.concat(e.id,'"'));t.push(c.textContent.trim())})),k.getAll("events").then((function(c){c&&c.forEach((function(c){var n=c.participants;if("all"===e||My$.arrCompare(n,t)){var r=JSON.parse(c.data).dayTime,s='td[headers="'.concat(r,'"]'),a=document.querySelector(s),i=document.createElement("div"),d=document.createElement("span"),l=document.createElement("span");i.setAttribute("id",c.id),i.setAttribute("draggable","true"),l.innerHTML="&times;",d.textContent=JSON.parse(c.data).name,a.appendChild(i),i.appendChild(d),i.appendChild(l),i.classList.add("td-content"),l.classList.add("td__delete-btn"),l.addEventListener("click",w)}}))}))}("all")})),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Calendar"}),Object(b.jsxs)("div",{className:"btn__group",children:[Object(b.jsxs)("div",{className:"input-group mb-3 select-names",children:[Object(b.jsx)("label",{className:"input-group-text",htmlFor:"participants",children:"Participants"}),Object(b.jsx)(S,{})]}),Object(b.jsx)(o.b,{to:"/react_calendar/create-event",className:"btn btn-success",role:"button",id:"new-event-btn",children:"New event +"})]})]})}),Object(b.jsxs)("table",{className:"table table-bordered text-center",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{id:"Mon",children:"Mon"}),Object(b.jsx)("th",{id:"Tue",children:"Tue"}),Object(b.jsx)("th",{id:"Wed",children:"Wed"}),Object(b.jsx)("th",{id:"Thu",children:"Thu"}),Object(b.jsx)("th",{id:"Fri",children:"Fri"})]})}),Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"10",children:"10:00"}),Object(b.jsx)("td",{headers:"Mon 10"}),Object(b.jsx)("td",{headers:"Tue 10"}),Object(b.jsx)("td",{headers:"Wed 10"}),Object(b.jsx)("td",{headers:"Thu 10"}),Object(b.jsx)("td",{headers:"Fri 10"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"11",children:"11:00"}),Object(b.jsx)("td",{headers:"Mon 11"}),Object(b.jsx)("td",{headers:"Tue 11"}),Object(b.jsx)("td",{headers:"Wed 11"}),Object(b.jsx)("td",{headers:"Thu 11"}),Object(b.jsx)("td",{headers:"Fri 11"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"12",children:"12:00"}),Object(b.jsx)("td",{headers:"Mon 12"}),Object(b.jsx)("td",{headers:"Tue 12"}),Object(b.jsx)("td",{headers:"Wed 12"}),Object(b.jsx)("td",{headers:"Thu 12"}),Object(b.jsx)("td",{headers:"Fri 12"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"13",children:"13:00"}),Object(b.jsx)("td",{headers:"Mon 13"}),Object(b.jsx)("td",{headers:"Tue 13"}),Object(b.jsx)("td",{headers:"Wed 13"}),Object(b.jsx)("td",{headers:"Thu 13"}),Object(b.jsx)("td",{headers:"Fri 13"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"14",children:"14:00"}),Object(b.jsx)("td",{headers:"Mon 14"}),Object(b.jsx)("td",{headers:"Tue 14"}),Object(b.jsx)("td",{headers:"Wed 14"}),Object(b.jsx)("td",{headers:"Thu 14"}),Object(b.jsx)("td",{headers:"Fri 14"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"15",children:"15:00"}),Object(b.jsx)("td",{headers:"Mon 15"}),Object(b.jsx)("td",{headers:"Tue 15"}),Object(b.jsx)("td",{headers:"Wed 15"}),Object(b.jsx)("td",{headers:"Thu 15"}),Object(b.jsx)("td",{headers:"Fri 15"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"16",children:"16:00"}),Object(b.jsx)("td",{headers:"Mon 16"}),Object(b.jsx)("td",{headers:"Tue 16"}),Object(b.jsx)("td",{headers:"Wed 16"}),Object(b.jsx)("td",{headers:"Thu 16"}),Object(b.jsx)("td",{headers:"Fri 16"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"17",children:"17:00"}),Object(b.jsx)("td",{headers:"Mon 17"}),Object(b.jsx)("td",{headers:"Tue 17"}),Object(b.jsx)("td",{headers:"Wed 17"}),Object(b.jsx)("td",{headers:"Thu 17"}),Object(b.jsx)("td",{headers:"Fri 17"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"18",children:"18:00"}),Object(b.jsx)("td",{headers:"Mon 18"}),Object(b.jsx)("td",{headers:"Tue 18"}),Object(b.jsx)("td",{headers:"Wed 18"}),Object(b.jsx)("td",{headers:"Thu 18"}),Object(b.jsx)("td",{headers:"Fri 18"})]})]})]})]})}));var M=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/react_calendar",children:Object(b.jsx)(A,{})}),Object(b.jsx)(j.a,{path:"/react_calendar/create-event",children:Object(b.jsx)(F,{})})]})})},_=c(4),V={},W={loading:!1},B=Object(i.combineReducers)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVENT/CREATE_EVENT":case"EVENT/READ_EVENT":case"EVENT/READ_EVENTS":case"EVENT/UPDATE_EVENT":case"EVENT/DELETE_EVENT":return Object(_.a)(Object(_.a)({},e),{},{events:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case T:return Object(_.a)(Object(_.a)({},e),{},{loading:!1});default:return e}}}),D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))},q=Object(i.createStore)(B,Object(d.composeWithDevTools)(Object(i.applyMiddleware)(l.a))),P=Object(b.jsx)(a.a,{store:q,children:Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(M,{})})});Object(s.render)(P,document.getElementById("root")),D()}},[[45,1,2]]]);
//# sourceMappingURL=main.6219c6d2.chunk.js.map